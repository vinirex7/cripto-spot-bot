# API Keys Configuration (fallback to environment variables if empty)
api_keys:
  binance:
    api_key: ""  # Se vazio, usa BINANCE_API_KEY env var
    api_secret: ""  # Se vazio, usa BINANCE_API_SECRET env var
  
  cryptopanic:
    token: ""  # Se vazio, usa CRYPTOPANIC_TOKEN env var
  
  openai:
    api_key: ""  # Se vazio, usa OPENAI_API_KEY env var
    model: "gpt-4o-mini"  # Se vazio, usa OPENAI_MODEL env var ou default

bot:
  name: "Vini-Cripto-Spot-Bot"
  log_dir: "./logs"

# Execution mode configuration
execution:
  mode: "paper"  # paper | trade
  decision_every_minutes: 15
  loop_seconds: 60
  timezone: "UTC"
  
  paper:
    initial_balance_usdt: 10000
    enable_slippage: true
    slippage_bps: 5
  
  trade:
    dry_run: false  # Se true, simula mas não envia ordens
    max_order_value_usdt: 1000  # Limite por ordem em modo trade

# Exchange configuration
exchange:
  name: "binance"
  base_url: "https://api.binance.com"
  testnet_url: "https://testnet.binance.vision"  # Para testes
  use_testnet: false
  recv_window: 5000
  timeout_seconds: 30
  
  orders:
    default_type: "LIMIT"  # LIMIT | MARKET
    limit_ttl_seconds: 30
    price_offset_bps: 5  # Basis points offset para limit orders
    max_spread_bps: 10  # Max spread aceitável
    min_notional_usdt: 10  # Mínimo por ordem

universe:
  - BTCUSDT
  - ETHUSDT
  - BNBUSDT
  - SOLUSDT
  - LINKUSDT
  - AVAXUSDT
  - MATICUSDT
  - ADAUSDT

positioning:
  max_positions: 2
  weight_per_position: 0.30
  cash_buffer: 0.40

momentum:
  n_days_short: 182
  n_days_long: 365
  min_momentum_idade: 0
  require_delta_positive: true
  age_days_buckets:
    - {max_days: 365, factor: 1.00}
    - {max_days: 456, factor: 0.75}
    - {max_days: 547, factor: 0.50}
    - {max_days: 9999, factor: 0.25}

execution:
  mode: "paper"
  decision_every_minutes: 15
  loop_seconds: 5
  timezone: "UTC"

news:
  sentz_hard: -3.0
  priceshockz_hard: -3.0
  ns_hard: -2.5
  ns_soft: -1.5
  volspike_soft: 1.5
  volspike_hard: 1.8
  cooldown_hours_hard: 6
  
  cryptopanic:
    enabled: true
    request_timeout_s: 10
  
  openai:
    enabled: true
    request_timeout_s: 25

momentum:
  enabled: true
  lookback_months_short: 6
  lookback_months_long: 12
  min_momentum_idade: 0.50
  require_delta_positive: true
  bootstrap:
    enabled: true
    n_resamples: 300
    block_size_days: 7
    min_pwin_mom: 0.60

risk:
  max_positions: 2
  weight_per_position: 0.30
  cash_buffer: 0.40
  target_vol_1d: 0.012
  daily_drawdown_pause: 0.025
  max_holding_hours: 72

news:
  enabled: true
  schedule:
    check_every_hours: 12
  cryptopanic:
    enabled: true
    cache_minutes: 720
    max_items_per_fetch: 50
    dedupe_window_hours: 72
  openai:
    enabled: true
    always_analyze: true
    max_calls_per_fetch: 50
    request_timeout_s: 25
    cache_hours: 72
    json_strict: true
  scoring:
    half_life_hours: 12
    w_sent_z: 0.7
    w_sent_llm: 0.3
  shock:
    hard_pause_hours: 6
    soft_pause_hours: 2
    hard_confidence_min: 0.65
    hard_sentiment_max: -0.50
    soft_threshold_ns: -1.20
    critical_categories:
      - hack
      - exploit
      - insolvency
      - outage
      - regulation

# Logging configuration
logging:
  flush_every_write: true
  files:
    decisions: "logs/decisions.jsonl"
    trades: "logs/trades.jsonl"
